{% load custom_tags %}
<div class="row">
  <!-- Ô³Õ¶Õ¡Õ¬Õ¸Ö‚ Õ©Õ¼Õ«Õ¹Ö„Õ¶Õ¥Ö€ -->
  <div class="col-md-6">
    {% if departure_flights %}
      <h4>âœˆï¸ Ô³Õ¶Õ¡Õ¬Õ¸Ö‚ Õ©Õ¼Õ«Õ¹Ö„Õ¶Õ¥Ö€</h4>
      <div class="row">
        {% for flight in departure_flights %}
          <div class="col-12 mb-3">
            <div class="card shadow-sm">
              <div class="card-body">
                <h5 class="card-title">âœˆï¸ {{ flight.from_here }} â†’ {{ flight.to_there }}</h5>
                <p class="card-text">
                  ğŸ•’ Ô³Õ¶Õ¡Õ¬Õ¸Ö‚ Ö…Ö€Õ {{ flight.departure_date }}<br>
                  ğŸ‘¥ Ô±Õ¦Õ¡Õ¿ Õ¶Õ½Õ¿Õ¡Õ¿Õ¥Õ²Õ¥Ö€ ({{ flight.available_departure_seats }}): 
                  {% for seat in flight.flight_seats %}
                    {{ seat.seat_number }}{% if not forloop.last %}, {% endif %}
                  {% endfor %}
                </p>
                <ul class="list-group">
                  {% for ticket_group in flight.tickets_grouped %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                      ğŸ« {{ ticket_group.passenger_type|capfirst }} {{ ticket_group.count }}x{{ ticket_group.unit_price }}
                      <span>{{ ticket_group.total_price }} Ö</span>
                    </li>
                  {% endfor %}
                </ul>
              </div>
            </div>
          </div>
          
        {% endfor %}
      </div>
    {% else %}
      <div class="alert alert-warning">ÕˆÕ¹ Õ´Õ« Õ°Õ¡Õ´Õ¡ÕºÕ¡Õ¿Õ¡Õ½Õ­Õ¡Õ¶ Õ£Õ¶Õ¡Õ¬Õ¸Ö‚ Õ©Õ¼Õ«Õ¹Ö„ Õ¹Õ« Õ£Õ¿Õ¶Õ¾Õ¥Õ¬Ö‰</div>
    {% endif %}
  </div>

  <!-- ÕÕ¥Ö€Õ¡Õ¤Õ¡Ö€Õ±Õ« Õ©Õ¼Õ«Õ¹Ö„Õ¶Õ¥Ö€ -->
  <div class="col-md-6">
    {% if return_flights %}
      <h4>ğŸ” ÕÕ¥Ö€Õ¡Õ¤Õ¡Ö€Õ±Õ« Õ©Õ¼Õ«Õ¹Ö„Õ¶Õ¥Ö€</h4>
      <div class="row">
        {% for flight in return_flights %}
          <div class="col-12 mb-3">
            <div class="card shadow-sm">
              <div class="card-body">
                <h5 class="card-title">âœˆï¸ {{ flight.from_here }} â†’ {{ flight.to_there }}</h5>
                <p class="card-text">
                  ğŸ•’ ÕÕ¥Ö€Õ¡Õ¤Õ¡Ö€Õ±Õ« Ö…Ö€Õ {{ flight.departure_date }}<br>
                  ğŸ‘¥ Ô±Õ¦Õ¡Õ¿ Õ¶Õ½Õ¿Õ¡Õ¿Õ¥Õ²Õ¥Ö€ ({{ flight.available_return_seats }}): 
                  {% for seat in flight.flight_seats %}
                    {{ seat.seat_number }}{% if not forloop.last %}, {% endif %}
                  {% endfor %}
                </p>
                <ul class="list-group">
                  {% for ticket_group in flight.tickets_grouped %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                      ğŸ« {{ ticket_group.passenger_type|capfirst }} {{ ticket_group.count }}x{{ ticket_group.unit_price }}
                      <span>{{ ticket_group.total_price }} Ö</span>
                    </li>
                  {% endfor %}
                </ul>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="alert alert-warning">ÕˆÕ¹ Õ´Õ« Õ°Õ¡Õ´Õ¡ÕºÕ¡Õ¿Õ¡Õ½Õ­Õ¡Õ¶ Õ¾Õ¥Ö€Õ¡Õ¤Õ¡Ö€Õ±Õ« Õ©Õ¼Õ«Õ¹Ö„ Õ¹Õ« Õ£Õ¿Õ¶Õ¾Õ¥Õ¬Ö‰</div>
    {% endif %}
  </div>
</div>

<div class="list-group mb-5">
  {% for passenger_type in passenger_types %}
    {% include "admin/travel/bookingtickets/passenger_details_form.html" with passenger_type=passenger_type %}
  {% endfor %}
</div>


<div class="list-group mb-5">
  {% for passenger_type in passenger_types %}
  {% include "admin/travel/bookingtickets/flight_seats.html" with flight_id=flight.id passenger_type=passenger_type %}
  {% endfor %}
</div>
